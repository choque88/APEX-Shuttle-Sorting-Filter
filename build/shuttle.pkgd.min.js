const shuttleSorting=function(i,d){"use strict";const n={name:"CB.DEV.SHUTTLE.SORTING.FILTER",scriptVersion:"23.10.12"};return{initialize:function(t){i.debug.info({fct:n.name+" - initialize",arguments:{pConfig:t},featureDetails:n});let u=d.extend({},t);u.defaultresetBtnTitle="Reset filter",i.debug.info("Checking the passed element(s)");t=u.affectedElements.replace(/#/g,"");function e(t){var e=d("#"+t),n=e.children("option");0<n.length?(i.debug.info(t+" contains options. Sorting."),n.detach(),n.sort(function(t,e){return(t=t.firstChild.nodeValue)==(e=e.firstChild.nodeValue)?0:0==u.sortOrder?e<t?1:-1:t<e?1:-1}),e.append(n)):i.debug.info(t+" is empty. No sorting needed.")}(t=t.split(",")).forEach(function(l){if(0<d(`#${l}_LEFT`).length&&0<d(`#${l}_RIGHT`).length){if(i.debug.info(l+" is a shuttle."),0==u.mode||1==u.mode)try{e(l+"_LEFT"),e(l+"_RIGHT")}catch(t){i.debug.error("Error while trying to sort the shuttle "+l),i.debug.error(t)}if(0==u.mode&&!document.getElementById(l+"_FILTER")||2==u.mode&&!document.getElementById(l+"_FILTER"))try{{var s=l;let t=d("#"+s),e=t.attr("id")+"_FILTER",n=t.attr("id")+"_RESET",r=t.find("select"),o=r.children("option").map(function(){return{text:d(this).text(),value:d(this).val(),option:this}}),i=d("<input/>",{type:"text",value:"",class:"text_field apex-item-text",size:"255",autocomplete:"off",id:e,placeholder:u.filterPlaceholder,css:{width:"100%"}}).keyup(function(){let n=new RegExp(".*"+d(this).val()+".*","i"),i=r.eq(1).children("option").map(function(){return d(this).val()});r.eq(0).empty(),d.each(o,function(t,e){e.text.match(n)&&d.inArray(e.value,i)<0&&r.eq(0).append(e.option)})}),a=d("<button/>",{type:"button",title:u.resetBtnTitle,"aria-label":u.resetBtnTitle||u.defaultresetBtnTitle,class:"a-Button a-Button--noLabel a-Button--withIcon a-Button--small a-Button--shuttle",css:{padding:"4px",height:"100%"}}).append(d("<span/>",{"aria-hidden":"true",class:"a-Icon fa fa-times"})).click(function(){i.val("").keyup()});d(t).prepend(d("<div/>",{class:"t-Form-itemWrapper",css:{"align-items":"center"}}).append(i).append(d("<span/>",{class:"t-Form-itemText t-Form-itemText--post"}).append(a))).on("apexafterrefresh",function(){i.val(""),o=getShuttleValues(r)}),d("#"+n).click(function(){i.val("")});return}}catch(t){i.debug.error("Error while trying to add the shuttle filter to "+l),i.debug.error(t)}}})}}};